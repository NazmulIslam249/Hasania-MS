<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>স্মার্ট ডেটা এন্ট্রি অ্যাপ</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React and ReactDOM CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel for JSX transformation in browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- XLSX and FileSaver CDN for Excel export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

    <!-- Solaiman Lipi Font Import from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Solaiman+Lipi&display=swap" rel="stylesheet">

    <style>
        /* Apply Solaiman Lipi to the entire body and ensure it's the primary font */
        body {
            font-family: 'Solaiman Lipi', sans-serif;
        }
        /* Ensure inputs and buttons also use the correct font */
        input, button, select, textarea {
            font-family: 'Solaiman Lipi', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div id="root"></div>

    <script type="text/babel">
        // Lucide React Icons (simplified for direct HTML use)
        // We will define them as simple SVG components directly
        const Plus = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={2} strokeLinecap="round" strokeLinejoin="round"><path d="M12 5V19M5 12H19"/></svg>
        );
        const List = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={2} strokeLinecap="round" strokeLinejoin="round"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>
        );
        const Download = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={2} strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
        );
        const Edit = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={2} strokeLinecap="round" strokeLinejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
        );
        const Trash2 = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={2} strokeLinecap="round" strokeLinejoin="round"><path d="M3 6h18"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>
        );
        const ChevronLeft = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={2} strokeLinecap="round" strokeLinejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
        );
        const X = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={2} strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
        );
        const Check = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={2} strokeLinecap="round" strokeLinejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
        );

        // Calendar icon for date field
        const Calendar = (props) => (
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width={props.size || 24}
                height={props.size || 24}
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                strokeWidth={2}
                strokeLinecap="round"
                strokeLinejoin="round"
                {...props}
            >
                <rect x={3} y={4} width={18} height={18} rx={2} ry={2} />
                <line x1={16} y1={2} x2={16} y2={6} />
                <line x1={8} y1={2} x2={8} y2={6} />
                <line x1={3} y1={10} x2={21} y2={10} />
            </svg>
        );

        const { useState, useEffect } = React;

        // Custom Modal Component
        const CustomModal = ({ message, onConfirm, onCancel, showConfirmButton = false }) => {
          if (!message) return null;

          return (
            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
              <div className="bg-white rounded-xl shadow-lg p-6 max-w-sm w-full mx-auto text-center font-inter" style={{ fontFamily: "'Solaiman Lipi', sans-serif" }}>
                <p className="text-lg mb-6 text-gray-800">{message}</p>
                <div className="flex justify-center space-x-4">
                  {showConfirmButton && (
                    <button
                      onClick={onConfirm}
                      className="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-5 rounded-lg transition duration-200 shadow-md"
                    >
                      নিশ্চিত করুন
                    </button>
                  )}
                  <button
                    onClick={onCancel}
                    className={`${showConfirmButton ? 'bg-gray-300 hover:bg-gray-400 text-gray-800' : 'bg-blue-500 hover:bg-blue-600 text-white'} font-bold py-2 px-5 rounded-lg transition duration-200 shadow-md`}
                  >
                    {showConfirmButton ? 'বাতিল করুন' : 'ঠিক আছে'}
                  </button>
                </div>
              </div>
            </div>
          );
        };

        // Main App Component
        const App = () => {
          // State for managing different views and data
          const [forms, setForms] = useState([]); // Stores form definitions
          const [data, setData] = useState({}); // Stores entered data for each form
          const [currentView, setCurrentView] = useState('home'); // 'home', 'createForm', 'dataEntry', 'dataView'
          const [selectedFormId, setSelectedFormId] = useState(null); // ID of the currently selected form
          const [showModal, setShowModal] = useState(false); // Controls modal visibility
          const [modalMessage, setModalMessage] = useState(''); // Message for the modal
          const [modalAction, setModalAction] = useState(null); // Function to call on modal confirm
          const [showConfirmModalButton, setShowConfirmModalButton] = useState(false); // Show confirm button in modal

          // State for form creation
          const [newFormName, setNewFormName] = useState('');
          const [newFormFields, setNewFormFields] = useState([]); // Fields for the new form being created

          // State for data entry
          const [currentEntry, setCurrentEntry] = useState({}); // Data for the current entry being made

          // Load data from localStorage on initial render
          useEffect(() => {
            try {
              const storedForms = localStorage.getItem('forms');
              const storedData = localStorage.getItem('data');
              if (storedForms) setForms(JSON.parse(storedForms));
              if (storedData) setData(JSON.parse(storedData));
            } catch (error) {
              console.error("Failed to load data from localStorage:", error);
              // Optionally show a user-friendly error message
              showCustomModal("ডেটা লোড করতে সমস্যা হয়েছে।");
            }
          }, []);

          // Save data to localStorage whenever forms or data change
          useEffect(() => {
            try {
              localStorage.setItem('forms', JSON.stringify(forms));
              localStorage.setItem('data', JSON.stringify(data));
            } catch (error) {
              console.error("Failed to save data to localStorage:", error);
              showCustomModal("ডেটা সেভ করতে সমস্যা হয়েছে।");
            }
          }, [forms, data]);

          // Utility to show custom modal
          const showCustomModal = (message, action = null, showConfirm = false) => {
            setModalMessage(message);
            // Ensure modalAction is set as a function to be called on confirm
            setModalAction(() => action);
            setShowConfirmModalButton(showConfirm);
            setShowModal(true);
          };

          // Utility to hide custom modal
          const hideCustomModal = () => {
            setShowModal(false);
            setModalMessage('');
            setModalAction(null);
            setShowConfirmModalButton(false);
          };

          // Handle modal confirmation
          const handleModalConfirm = () => {
            if (modalAction) {
              modalAction();
            }
            hideCustomModal();
          };

          // Handle modal cancellation
          const handleModalCancel = () => {
            hideCustomModal();
          };

          // --- Form Creation Logic ---
          const handleAddField = (type) => {
            const fieldId = `field_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;
            setNewFormFields([...newFormFields, { id: fieldId, name: '', type }]);
          };

          const handleFieldNameChange = (id, value) => {
            setNewFormFields(newFormFields.map(field =>
              field.id === id ? { ...field, name: value } : field
            ));
          };

          const handleRemoveField = (id) => {
            setNewFormFields(newFormFields.filter(field => field.id !== id));
          };

          const handleSaveForm = () => {
            if (!newFormName.trim()) {
              showCustomModal("ফর্মের একটি নাম দিন।");
              return;
            }
            if (newFormFields.length === 0) {
              showCustomModal("ফর্মের জন্য অন্তত একটি ফিল্ড যোগ করুন।");
              return;
            }
            if (newFormFields.some(field => !field.name.trim())) {
              showCustomModal("সব ফিল্ডের নাম দিন।");
              return;
            }

            const newForm = {
              id: `form_${Date.now()}`,
              name: newFormName.trim(),
              fields: newFormFields.map(field => ({ id: field.id, name: field.name.trim(), type: field.type }))
            };
            setForms([...forms, newForm]);
            setData({ ...data, [newForm.id]: [] }); // Initialize data array for the new form
            setNewFormName('');
            setNewFormFields([]);
            showCustomModal("ফর্ম সফলভাবে তৈরি হয়েছে!");
            setCurrentView('home');
          };

          // --- Data Entry Logic ---
          const handleDataInputChange = (fieldId, value) => {
            setCurrentEntry(prev => ({ ...prev, [fieldId]: value }));
          };

          const handleSaveEntry = () => {
            if (!selectedFormId) return;

            const formFields = forms.find(f => f.id === selectedFormId)?.fields || [];
            const newEntry = { id: `entry_${Date.now()}`, ...currentEntry };

            // Basic validation: ensure all fields have some value (can be enhanced)
            for (const field of formFields) {
              if (!newEntry[field.id] && newEntry[field.id] !== 0) { // Allow 0 for number fields
                showCustomModal(`"${field.name}" ফিল্ডটি পূরণ করুন।`);
                return;
              }
            }

            setData(prevData => ({
              ...prevData,
              [selectedFormId]: [...(prevData[selectedFormId] || []), newEntry]
            }));
            setCurrentEntry({}); // Clear form after saving
            showCustomModal("ডেটা সফলভাবে সংরক্ষণ করা হয়েছে!");
          };

          // --- Data Export Logic ---
          const exportToExcel = () => {
            // Check if XLSX and saveAs are available globally
            if (typeof window.XLSX === 'undefined' || typeof window.saveAs === 'undefined') {
              showCustomModal("এক্সেল এক্সপোর্টের জন্য প্রয়োজনীয় লাইব্রেরি লোড হয়নি।");
              console.error("XLSX or FileSaver not loaded. Please ensure CDN links are included in your HTML.");
              return;
            }

            if (!selectedFormId) {
              showCustomModal("কোনো ফর্ম নির্বাচন করা হয়নি।");
              return;
            }

            const form = forms.find(f => f.id === selectedFormId);
            const formEntries = data[selectedFormId] || [];

            if (!form || formEntries.length === 0) {
              showCustomModal("এই ফর্মে কোনো ডেটা নেই যা এক্সপোর্ট করা যাবে।");
              return;
            }

            // Prepare data for Excel
            const header = form.fields.map(field => field.name);
            const rows = formEntries.map(entry => {
              const row = {};
              form.fields.forEach(field => {
                row[field.name] = entry[field.id] || ''; // Use field name as key for Excel header
              });
              return row;
            });

            const worksheet = window.XLSX.utils.json_to_sheet(rows, { header: header });
            const workbook = window.XLSX.utils.book_new();
            window.XLSX.utils.book_append_sheet(workbook, worksheet, form.name);

            // Generate Excel file
            const excelBuffer = window.XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });
            const blob = new Blob([excelBuffer], { type: 'application/octet-stream' });
            window.saveAs(blob, `${form.name}_data.xlsx`);
            showCustomModal("ডেটা সফলভাবে এক্সেল ফাইল হিসেবে ডাউনলোড করা হয়েছে!");
          };

          // --- Delete Form Logic ---
          const handleDeleteForm = (formIdToDelete) => {
            showCustomModal(
              "আপনি কি নিশ্চিত এই ফর্মটি এবং এর সাথে সম্পর্কিত সব ডেটা মুছে ফেলতে চান?",
              () => {
                setForms(forms.filter(form => form.id !== formIdToDelete));
                setData(prevData => {
                  const newData = { ...prevData };
                  delete newData[formIdToDelete];
                  return newData;
                });
                showCustomModal("ফর্ম সফলভাবে মুছে ফেলা হয়েছে!");
                setCurrentView('home'); // Go back to home after deletion
              },
              true // Show confirm button
            );
          };

          // --- Render Views ---
          const renderHome = () => (
            <div className="p-4">
              <h2 className="text-2xl font-bold text-gray-800 mb-6 text-center">আমার ফর্মসমূহ</h2>
              <button
                onClick={() => setCurrentView('createForm')}
                className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl flex items-center justify-center space-x-2 mb-6 shadow-lg transition duration-200"
              >
                <Plus size={24} />
                <span>নতুন ফর্ম তৈরি করুন</span>
              </button>

              {forms.length === 0 ? (
                <p className="text-center text-gray-600 text-lg mt-10">কোনো ফর্ম তৈরি করা হয়নি। একটি নতুন ফর্ম তৈরি করুন!</p>
              ) : (
                <div className="space-y-4">
                  {forms.map(form => {
                    const entryCount = (data[form.id] || []).length;
                    return (
                      <div
                        key={form.id}
                        className="bg-white p-5 rounded-xl shadow-md flex items-center justify-between transition duration-200 hover:shadow-lg"
                      >
                        <div>
                          <h3 className="text-xl font-semibold text-gray-800">{form.name}</h3>
                          <p className="text-gray-600 text-sm mt-1">এন্ট্রি সংখ্যা: {entryCount}</p>
                        </div>
                        <div className="flex space-x-2">
                          <button
                            onClick={() => { setSelectedFormId(form.id); setCurrentView('dataEntry'); }}
                            className="bg-green-500 hover:bg-green-600 text-white p-2 rounded-full shadow-md transition duration-200"
                            title="ডেটা এন্ট্রি করুন"
                          >
                            <Edit size={20} />
                          </button>
                          <button
                            onClick={() => { setSelectedFormId(form.id); setCurrentView('dataView'); }}
                            className="bg-purple-500 hover:bg-purple-600 text-white p-2 rounded-full shadow-md transition duration-200"
                            title="ডেটা দেখুন ও ডাউনলোড করুন"
                          >
                            <List size={20} />
                          </button>
                          <button
                            onClick={() => handleDeleteForm(form.id)}
                            className="bg-red-500 hover:bg-red-600 text-white p-2 rounded-full shadow-md transition duration-200"
                            title="ফর্ম মুছে ফেলুন"
                          >
                            <Trash2 size={20} />
                          </button>
                        </div>
                      </div>
                    );
                  })}
                </div>
              )}
            </div>
          );

          const renderCreateForm = () => (
            <div className="p-4">
              <button
                onClick={() => { setCurrentView('home'); setNewFormName(''); setNewFormFields([]); }}
                className="text-blue-600 hover:text-blue-800 flex items-center mb-6 font-semibold"
              >
                <ChevronLeft size={20} className="mr-1" />
                <span>হোমে ফিরে যান</span>
              </button>
              <h2 className="text-2xl font-bold text-gray-800 mb-6 text-center">নতুন ফর্ম তৈরি করুন</h2>

              <div className="bg-white p-6 rounded-xl shadow-md mb-6">
                <label htmlFor="formName" className="block text-gray-700 text-sm font-bold mb-2">ফর্মের নাম:</label>
                <input
                  type="text"
                  id="formName"
                  value={newFormName}
                  onChange={(e) => setNewFormName(e.target.value)}
                  placeholder="যেমন: পণ্যের তালিকা, গ্রাহকের তথ্য"
                  className="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
                />
              </div>

              <div className="bg-white p-6 rounded-xl shadow-md mb-6">
                <h3 className="text-xl font-semibold text-gray-800 mb-4">ফিল্ড যোগ করুন:</h3>
                <div className="grid grid-cols-2 gap-3 mb-4">
                  <button
                    onClick={() => handleAddField('text')}
                    className="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg flex items-center justify-center space-x-2 transition duration-200 shadow-sm"
                  >
                    <List size={18} /> <span>টেক্সট</span>
                  </button>
                  <button
                    onClick={() => handleAddField('number')}
                    className="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg flex items-center justify-center space-x-2 transition duration-200 shadow-sm"
                  >
                    <Plus size={18} /> <span>সংখ্যা</span>
                  </button>
                  <button
                    onClick={() => handleAddField('date')}
                    className="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg flex items-center justify-center space-x-2 transition duration-200 shadow-sm"
                  >
                    <Calendar size={18} /> <span>তারিখ</span>
                  </button>
                  {/* Add other field types as needed, e.g., dropdown, image */}
                </div>

                {newFormFields.length > 0 && (
                  <div className="mt-6 space-y-4">
                    <h3 className="text-xl font-semibold text-gray-800 mb-3">ফর্মের ফিল্ডসমূহ:</h3>
                    {newFormFields.map((field, index) => (
                      <div key={field.id} className="flex items-center space-x-3 bg-gray-50 p-3 rounded-lg shadow-sm">
                        <span className="text-gray-600 font-medium">{index + 1}.</span>
                        <input
                          type="text"
                          value={field.name}
                          onChange={(e) => handleFieldNameChange(field.id, e.target.value)}
                          placeholder={`ফিল্ডের নাম (${field.type})`}
                          className="flex-grow shadow-sm appearance-none border rounded-lg py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-1 focus:ring-blue-400 transition duration-200"
                        />
                        <button
                          onClick={() => handleRemoveField(field.id)}
                          className="text-red-500 hover:text-red-700 p-1 rounded-full transition duration-200"
                          title="ফিল্ড মুছে ফেলুন"
                        >
                          <X size={20} />
                        </button>
                      </div>
                    ))}
                  </div>
                )}
              </div>

              <button
                onClick={handleSaveForm}
                className="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-xl flex items-center justify-center space-x-2 shadow-lg transition duration-200"
              >
                <Check size={24} />
                <span>ফর্ম সংরক্ষণ করুন</span>
              </button>
            </div>
          );

          const renderDataEntry = () => {
            const form = forms.find(f => f.id === selectedFormId);
            if (!form) {
              return (
                <div className="p-4 text-center text-red-500">
                  <p>ফর্মটি খুঁজে পাওয়া যায়নি।</p>
                  <button onClick={() => setCurrentView('home')} className="mt-4 text-blue-600 hover:underline">হোমে ফিরে যান</button>
                </div>
              );
            }

            return (
              <div className="p-4">
                <button
                  onClick={() => { setCurrentView('home'); setCurrentEntry({}); }}
                  className="text-blue-600 hover:text-blue-800 flex items-center mb-6 font-semibold"
                >
                  <ChevronLeft size={20} className="mr-1" />
                  <span>হোমে ফিরে যান</span>
                </button>
                <h2 className="text-2xl font-bold text-gray-800 mb-6 text-center">{form.name} - ডেটা এন্ট্রি</h2>

                <div className="bg-white p-6 rounded-xl shadow-md mb-6 space-y-4">
                  {form.fields.map(field => (
                    <div key={field.id}>
                      <label htmlFor={field.id} className="block text-gray-700 text-sm font-bold mb-2">
                        {field.name}:
                      </label>
                      {field.type === 'text' && (
                        <input
                          type="text"
                          id={field.id}
                          value={currentEntry[field.id] || ''}
                          onChange={(e) => handleDataInputChange(field.id, e.target.value)}
                          className="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
                        />
                      )}
                      {field.type === 'number' && (
                        <input
                          type="number"
                          id={field.id}
                          value={currentEntry[field.id] || ''}
                          onChange={(e) => handleDataInputChange(field.id, e.target.value)}
                          className="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
                        />
                      )}
                      {field.type === 'date' && (
                        <input
                          type="date"
                          id={field.id}
                          value={currentEntry[field.id] || ''}
                          onChange={(e) => handleDataInputChange(field.id, e.target.value)}
                          className="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
                        />
                      )}
                      {/* Add input types for other field types here */}
                    </div>
                  ))}
                </div>

                <button
                  onClick={handleSaveEntry}
                  className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl flex items-center justify-center space-x-2 shadow-lg transition duration-200"
                >
                  <Check size={24} />
                  <span>এন্ট্রি সংরক্ষণ করুন</span>
                </button>
              </div>
            );
          };

          const renderDataView = () => {
            const form = forms.find(f => f.id === selectedFormId);
            const formEntries = data[selectedFormId] || [];

            if (!form) {
              return (
                <div className="p-4 text-center text-red-500">
                  <p>ফর্মটি খুঁজে পাওয়া যায়নি।</p>
                  <button onClick={() => setCurrentView('home')} className="mt-4 text-blue-600 hover:underline">হোমে ফিরে যান</button>
                </div>
              );
            }

            return (
              <div className="p-4">
                <button
                  onClick={() => setCurrentView('home')}
                  className="text-blue-600 hover:text-blue-800 flex items-center mb-6 font-semibold"
                >
                  <ChevronLeft size={20} className="mr-1" />
                  <span>হোমে ফিরে যান</span>
                </button>
                <h2 className="text-2xl font-bold text-gray-800 mb-6 text-center">{form.name} - ডেটা দেখুন</h2>

                <div className="bg-white p-6 rounded-xl shadow-md mb-6">
                  <button
                    onClick={exportToExcel}
                    className="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-xl flex items-center justify-center space-x-2 shadow-lg transition duration-200 mb-4"
                  >
                    <Download size={24} />
                    <span>এক্সেল ডাউনলোড করুন</span>
                  </button>

                  {formEntries.length === 0 ? (
                    <p className="text-center text-gray-600 text-lg mt-10">এই ফর্মে কোনো ডেটা এন্ট্রি করা হয়নি।</p>
                  ) : (
                    <div className="overflow-x-auto">
                      <table className="min-w-full bg-white border border-gray-200 rounded-lg shadow-sm">
                        <thead>
                          <tr className="bg-gray-100 text-left text-gray-700 text-sm font-medium">
                            {form.fields.map(field => (
                              <th key={field.id} className="py-3 px-4 border-b border-gray-200">{field.name}</th>
                            ))}
                          </tr>
                        </thead>
                        <tbody>
                          {formEntries.map((entry, index) => (
                            <tr key={entry.id} className="hover:bg-gray-50 transition duration-100">
                              {form.fields.map(field => (
                                <td key={`${entry.id}-${field.id}`} className="py-3 px-4 border-b border-gray-200 text-gray-800 text-sm">
                                  {entry[field.id] || '-'}
                                </td>
                              ))}
                            </tr>
                          ))}
                        </tbody>
                      </table>
                    </div>
                  )}
                </div>
              </div>
            );
          };

          return (
            <div className="min-h-screen bg-gray-100 text-gray-900" style={{ fontFamily: "'Solaiman Lipi', sans-serif" }}>
              <div className="max-w-md mx-auto bg-white shadow-lg rounded-b-xl overflow-hidden min-h-screen">
                {currentView === 'home' && renderHome()}
                {currentView === 'createForm' && renderCreateForm()}
                {currentView === 'dataEntry' && renderDataEntry()}
                {currentView === 'dataView' && renderDataView()}
              </div>
              <CustomModal
                message={modalMessage}
                onConfirm={handleModalConfirm}
                onCancel={handleModalCancel}
                showConfirmButton={showConfirmModalButton}
              />
            </div>
          );
        };

        // Render the App component into the root div
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
